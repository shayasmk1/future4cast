!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/assets/",t(0)}({0:function(e,t,n){n(842),n(843),n(844),n(845),n(846),n(847),n(848),n(849),n(814),n(815),n(816),n(817),n(818),n(819),n(820),n(821),n(822),n(823),n(824),n(825),n(826),n(827),n(828),n(829),n(830),n(831),n(832),n(833),n(834),n(835),n(836),n(837),n(838),n(839),n(840),n(841),e.exports=n(511)},511:function(e,t){"use strict";$(function(){app.run($("body"))})},814:function(e,t){app.action("open-modal",function(e,t,n){var r,i,a,o,s;return i=$(e.target).closest("a").attr("href"),a=null!=(o=t.data("href"))?o:t.attr("href"),r=t.data("layout"),s=t.data("modal-replace"),null==i||i===a?e.metaKey||e.ctrlKey?0===$(e.target).closest("a").length?(e.preventDefault(),window.open(a,"_blank")):void 0:(e.preventDefault(),window.openModal({url:a,layout:r,replace:s})):void 0})},815:function(e,t){app.action("select-value",function(e,t){return t.select()})},816:function(e,t){app.action("track",function(e,t){return analytics.track(t.data("track"),t.data("track-options")||{})})},817:function(e,t){app.action("tweet-popup",function(e,t){var n,r,i;return e.preventDefault(),e.stopPropagation(),i=550,n=420,r=[],r.push("width="+i),r.push("height="+n),r.push("left="+($(window).width()-i)/2),r.push("top="+($(window).height()-n)/2),r.push("status=1"),window.open(t.attr("href"),"twitter",r.join(","))})},818:function(e,t){app.component("CollapsingNavigation",{events:{"click [data-collapsing-navigation-target]":"showSubgroup"},wasInitialized:function(){return this.$("[data-collapsing-navigation-active]").show()},showSubgroup:function(e){var t,n;return e.preventDefault(),t=$(e.target).data("collapsing-navigation-target"),this.$("[data-collapsing-navigation!='"+t+"']").removeClass("m-active"),n=this.$("[data-collapsing-navigation='"+t+"']"),n.toggleClass("m-active")}})},819:function(e,t){app.component("CenteredContent",{wasInitialized:function(){return this.itemWidth=this.$el.data("centered-content-width"),this.maxParentWidth=this.$el.data("centered-content-disabled-above"),this.bindTo(window,"resize",this.adjustContent),this.adjustContent()},adjustContent:function(){return setTimeout(function(e){return function(){var t,n;return n=e.$el.parent().width(),t=Math.max(1,Math.floor(n/e.itemWidth)),e.maxParentWidth&&n>e.maxParentWidth?e.$el.css({width:"",marginLeft:"",marginRight:""}):e.$el.css({width:t*e.itemWidth,marginLeft:"auto",marginRight:"auto"})}}(this))}})},820:function(e,t){app.component("DelayedPartial",function(e){var t;if(!(e.attr("data-delayed-partial-state")||e.attr("data-do-not-load-on-small-screen")&&$(window).width()<768))return e.hide(),e.attr("data-delayed-partial-state","loading"),t=e.attr("data-delayed-partial"),$.get(t,function(t){return e.attr("data-delayed-partial-state","loaded"),e.htmlWithComponents(t),e.slideDown("fast")})})},821:function(e,t){app.component("Emoji",function(e){return Modernizr.emoji?void 0:twemoji.parse(e[0],{callback:function(e,t,n){return"a9"!==e&&"ae"!==e&&"2122"!==e?""+t.base+t.size+"/"+e+t.ext:void 0}})})},822:function(e,t){app.component("Flash",function(e){return setTimeout(function(){return e.fadeOut()},2e3)})},823:function(e,t){app.component("FollowButtonsContainer",{events:{"click [data-follow-id]":"toggleFollowing"},toggleFollowing:function(e){var t,n;return e.preventDefault(),this.app.ensureSignIn()?(n=$(e.target).data("follow-id"),t=this.app.following.toggle(n),this.$('a[data-follow-id="'+n+'"]').each(function(){var e;return e=$(this),window.app.following.styleFollowButton(e,t)})):void 0}}),app.component("FollowMarker",function(e){return e.data("follow-id")===gon.current_user.id?e.remove():app.following.styleFollowButton(e)}),app.following={isFollowing:function(e){return-1!==gon.current_user.followed_users.indexOf(e)},toggle:function(e){var t,n;return n=gon.current_user.followed_users.indexOf(e),t=-1===n,$.ajax({url:"/users/"+e+"/follower",type:t?"post":"delete"}),t?gon.current_user.followed_users.push(e):gon.current_user.followed_users.splice(n,1),t},styleFollowButton:function(e,t){var n;return"undefined"==typeof t&&(t=this.isFollowing(e.data("follow-id"))),n=t?"unfollow-text":"follow-text",e.text(e.data(n)).toggleClass("v-following",t)}}},824:function(e,t){app.component("Graph",{elements:{legend:".legend",graph:".graph"},wasInitialized:function(){var e;return e=new Rickshaw.Graph({element:this.graph[0],width:760,height:300,renderer:"line",stroke:!0,series:this.$el.data("series")}),e.render(),new Rickshaw.Graph.HoverDetail({graph:e}),new Rickshaw.Graph.Legend({graph:e,element:this.legend[0]}),new Rickshaw.Graph.Axis.Time({graph:e}).render()}})},825:function(e,t){app.component("InfiniteScrolling",{elements:{marker:"[data-scroll-marker]"},events:{"scroll:bottom":"manualAction"},wasInitialized:function(){return this.url=this.prepareUrl(this.$el.data("url")||window.location.href),this.page=1,this.enable()},wasRemoved:function(){return this.disable()},enable:function(){return this.automatedLoadingCounter=0,this.disabled=!1,this.marker.hide(),this.checkForEmptySpace()},disable:function(){return this.disabled=!0,this.marker.hide()},manualAction:function(){return this.automatedLoadingCounter=0,this.loadNextPage()},checkForEmptySpace:function(){return this.automatedLoadingRanTooOften()?void 0:setTimeout(function(e){return function(){var t,n;return n=e.el.getBoundingClientRect().top+e.$el.height(),t=window.innerHeight||document.documentElement.clientHeight,t>n?e.loadNextPage():void 0}}(this))},automatedLoadingRanTooOften:function(){return this.automatedLoadingCounter+=1,this.automatedLoadingCounter>=3},loadNextPage:function(){return this.loading||this.disabled||this.$el.is(":hidden")?void 0:(this.page+=1,this.loading=!0,this.marker.show(),$.ajax({url:this.url+"page="+this.page,method:"GET",error:function(e){return function(){return e.disable()}}(this),success:function(e){return function(t){return 0===t.length?e.disable():e.insertContent(t)}}(this),complete:function(e){return function(){return e.loading=!1,e.marker.hide(),e.checkForEmptySpace()}}(this)}))},insertContent:function(e){return e=this.marker.length>0?$(e).insertBefore(this.marker):$(e).appendTo(this.$el),this.app.processComponents(e)},prepareUrl:function(e){return e=e.split("#")[0],e+=-1===e.indexOf("?")?"?":"&"}})},826:function(e,t){app.component("InstallChromeExtension",{events:{click:"install"},install:function(e){var t;return e.preventDefault(),t=this.$el.attr("href"),window.chrome&&!window.chrome.app.isInstalled?window.chrome.webstore.install(t,function(){},function(e){return function(){return e.redirect(t)}}(this)):this.redirect(t)},redirect:function(e){return window.location=e}})},827:function(e,t){app.component("LazyLoadContainer",{EAGER_PRELOAD_PIXELS:100,wasInitialized:function(){return this.bindTo(window,"load",this.afterLoad),this.bindTo(window,"scroll",this.queueCheck),this.bindTo(window,"resize",this.queueCheck),this.listenTo(this.app,"lazyload:element",this.addElement),this.listenTo(this.app,"lazyload:update",this.queueCheck),this.check=_.bind(this.check,this),this.lazyElements=[]},afterLoad:function(){return this.queueCheck(),this.initalLoadingDone=!0},addElement:function(e){return this.lazyElements.push(e),this.initalLoadingDone&&this.isVisible(e)?(this.removeElement(e),this.showElement(e)):void 0},queueCheck:function(){return clearTimeout(this.allowBrowserStacking),this.allowBrowserStacking=setTimeout(this.check,1)},check:function(){var e,t,n,r,i;for(i=[],t=n=r=this.lazyElements.length-1;n>=0;t=n+=-1)e=this.lazyElements[t],document.body.contains(e[0])?this.isVisible(e)?(this.lazyElements.splice(t,1),i.push(this.showElement(e))):i.push(void 0):i.push(this.lazyElements.splice(t,1));return i},showElement:function(e){return e.attr("src",e.data("lazyload-src"))},removeElement:function(e){var t;return t=this.lazyElements.indexOf(e),this.lazyElements.splice(t,1)},isVisible:function(e){var t,n;return e.is(":visible")?(n=e[0].getBoundingClientRect(),t=window.innerHeight||document.documentElement.clientHeight,n.top>=0&&n.left>=0&&n.top-this.EAGER_PRELOAD_PIXELS<=t):!1}}),app.component("LazyLoadElement",function(e){return app.trigger("lazyload:element",e)})},828:function(e,t){app.component("LoginAnimation",function(e){return e.find(".show-1").addClass("shown"),setTimeout(function(){return e.find(".show-2").addClass("shown")},500),setTimeout(function(){return e.find(".show-3").addClass("shown")},1200),setTimeout(function(){return e.find(".show-4").addClass("shown")},2e3),setTimeout(function(){return e.find(".show-5").addClass("shown")},2600)})},829:function(e,t){app.component("ManageRelatedPosts",{elements:{input:'[data-related="input"]',results:'[data-related="results"]'},events:{'keyup [data-related="input"]':"inputChanged","click [data-id]":"selectPost"},bindToModel:{"results:loaded":"resultsWereLoaded"},wasInitialized:function(){return this.model=app.search.index("Post_"+gon.rails_env),this.template=app.search.template("popover-post"),this.relatedIds=this.$el.data("related-posts"),this.postId=this.$el.data("post-id"),this.defer(function(e){return function(){return e.input.focus()}}(this))},wasRemoved:function(){return _.difference(this.relatedIds,this.$el.data("related-posts")).length||_.difference(this.$el.data("related-posts"),this.relatedIds).length?window.location.reload():void 0},inputChanged:function(){var e;return e=this.input.val(),e?(this.$el.addClass("m-active"),this.model.newQuery(e)):(this.$el.removeClass("m-active"),this.input.val(""),this.results.empty())},resultsWereLoaded:function(e){return this.results.html(this.template.renderCollection(e.hits)),this.results.find("[data-id='"+this.postId+"']").remove(),_.each(this.relatedIds,function(e){return function(t){return e.results.find("[data-id='"+t+"']").addClass("m-selected")}}(this))},selectPost:function(e){var t,n,r;return t=$(e.target).closest("[data-id]"),n=t.data("id"),r=this.relatedIds.indexOf(n),-1===r?($.post("/posts/"+this.postId+"/related_posts",{id:n}),this.relatedIds.push(n),t.addClass("m-selected")):($.ajax({url:"/posts/"+this.postId+"/related_posts/"+n,type:"delete"}),this.relatedIds.splice(r,1),t.removeClass("m-selected"))}})},830:function(e,t){app.component("ModalContent",function(e){var t,n,r;return t=e.html(),n=e.data("layout"),r=location.pathname+location.search,window.openModal({url:r,content:t,layout:n}),app.disableComponents(e),e.remove()})},831:function(e,t){app.component("PopoverContainer",{events:{click:"hideOnOutsideClick",'click [data-popover="click"]':"toggleTooltip",'click [data-popover="close"]':"hideViaCloseBtn",'click [data-action="open-modal"]':"hideOnOpenModalClick",'mouseenter [data-popover="hover"]':"showTooltip",'mouseenter [data-popover="container"]':"abortHiding",'mouseleave [data-popover-type="hover"]':"startHiding",'mouseleave [data-popover="hover"]':"startHiding","keyup:esc":"hide","ajax:success":"positionContainer","ajax:error":"positionContainer"},containerClass:"legacy-popover",wasInitialized:function(){return app.popoverContainer=this,this.container=$('<div class="'+this.containerClass+'" data-popover="container"></div>'),this.bindTo(window,"scroll","hideOnScroll"),this.bindTo(this.app,"modal:scroll","hideOnScroll"),this.$el.append(this.container),this.showingCurrentTooltip=!1},hide:function(){return null!=this.ajaxRequest&&this.ajaxRequest.abort(),null!=this.currentTarget&&this.currentTarget.removeClass("m-active"),this.showingCurrentTooltip=!1,this.container.hide(),this.container.emptyWithComponents()},hideOnScroll:function(){return this.scrollTriggeredByFormFocus()?void 0:this.hide()},hideOnOpenModalClick:function(){return this.hide()},hideViaCloseBtn:function(e){return e.preventDefault(),this.hide()},hideOnOutsideClick:function(e){var t;return t=$(e.target).closest("[data-popover]"),0===t.length?this.hide():void 0},toggleTooltip:function(e){return e.preventDefault(),e.stopPropagation(),this.showingCurrentTooltip?this.startHiding():this.showTooltip(e)},startHiding:function(){return this.timer=setTimeout(function(e){return function(){return e.hide()}}(this),350)},abortHiding:function(){return this.showingCurrentTooltip=!0,this.timer&&clearTimeout(this.timer),this.timer=null},showTooltip:function(e){var t,n;return this.showingCurrentTooltip=!0,this.currentTarget=$(e.target).closest("[data-popover]"),this.missingRequiredLogin()?void 0:(this.currentTarget.addClass("m-active"),this.container.attr("data-popover-type",this.currentTarget.data("popover")),n=this.currentTarget.data("popover-href"),null!=n?this.setContainerContentAsync(n):(t=this.currentTarget.find('[data-popover="content"]').html(),this.setContainerContent(t)))},setContainerContent:function(e){return app.trigger("popover:open"),this.abortHiding(),this.container.show(),this.container.htmlWithComponents(e),this.positionContainer()},setContainerContentAsync:function(e){return this.setContainerContent('<div class="popover--loader"></div>'),this.ajaxRequest=$.get(e,function(e){return function(t){return e.ajaxRequest=null,e.setContainerContent(t)}}(this))},positionContainer:function(){return this.showingCurrentTooltip?app.positionPopover(this):void 0},missingRequiredLogin:function(){return this.currentTarget.data("require-login")&&!this.app.ensureSignIn()},scrollTriggeredByFormFocus:function(){return this.container.find(":focus").length>0}}),app.setPopoverContainerContent=function(e,t){return this.popoverContainer.currentTarget=$(e),this.popoverContainer.setContainerContent(t)},app.setPopoverContainerContentAsync=function(e,t){return this.popoverContainer.currentTarget=$(e),this.popoverContainer.setContainerContentAsync(t)},app.hidePopoverContainer=function(){return this.popoverContainer.startHiding()}},832:function(e,t){app.component("RemoteResponseHandler",{events:{"ajax:success":"success","ajax:error":"error"},wasInitialized:function(){return this.action=this.$el.data("remote-response-action")||"replace",this.errorAction=this.$el.data("remote-response-error-action")||this.action,this.redirectUrl=this.$el.data("remote-response-redirect-url")},success:function(e,t){return this.handleResponse(t,this.action)},error:function(e,t){return this.handleResponse(t.responseText,this.errorAction)},handleResponse:function(e,t){if("replace"===t)return this.$el.replaceWithComponents(e);if("inner"===t)return this.$el.htmlWithComponents(e);if("append"===t)return this.$el.appendWithComponents(e);if("reload"===t)return this.$el.replaceWith('<div class="simple-loader"></div>'),window.location.reload();if("redirect"===t)return window.location.href=this.redirectUrl;throw new Error("Unclear handling of remote-response")}})},833:function(e,t){var n;n="web",window.app.search={algolia:function(){return new AlgoliaSearch(gon.algolia.key,gon.algolia.secret,{dsn:!0})},index:function(e){return new this.Index(this.algolia().initIndex(e))},location:function(){return new this.Location},template:function(e){return new this.Template(app.template("search-"+e+"-result"))}},app.search.Template=function(){function e(e){this.hogan=e}return e.prototype.render=function(e){return this.hogan.render(e)},e.prototype.renderCollection=function(e){return _.map(e,this.render,this).join("")},e}(),app.search.Location=function(){function e(){var e,t,n,r,i;0===(null!=(r=window.location)?r.hash.indexOf("#!/s/"):void 0)?(n=decodeURIComponent(window.location.hash.substring(5)),i=n.match("(([a-z]*)/)?(.*)"),e=i[0],t=i[1],this.type=i[2],this.query=i[3],_.includes(["collections","posts","users"],this.type)||(this.type="posts")):(this.type="posts",this.query="")}return e.prototype.updateQuery=function(e){return this.query!==e?(this.query=e,clearTimeout(this.timer),this.timer=setTimeout(function(e){return function(){return e.refresh()}}(this),500)):void 0},e.prototype.refresh=function(){var e;return e=this.query?"#!/s/"+this.type+"/"+encodeURIComponent(this.query):"",window.location.hash=e},e}(),app.search.Index=function(){function e(e){this.index=e,this.handleResults=_.bind(this.handleResults,this)}return e.prototype.newQuery=function(e){return this.query=e,this.index.search(this.query,this.handleResults,{hitsPerPage:20,analyticsTags:n})},e.prototype.handleResults=function(e,t){return t.query===this.query?this.trigger("results:loaded",t):void 0},e}(),_.extend(app.search.Index.prototype,Backbone.Events)},834:function(e,t){app.component("SelectContent",function(e){return e.select()})},835:function(e,t){app.component("SelectVisible",{elements:{trigger:"[data-select-visible-trigger]",panes:"[data-select-visible]"},events:{"change [data-select-visible-trigger]":"toggle"},wasInitialized:function(){return this.toggle()},toggle:function(){var e;return e=this.$("[data-select-visible="+this.trigger.val()+"]"),this.panes.hide(),e.show()}})},836:function(e,t){app.component("Shuffler",function(e){return e.htmlWithComponents(_.shuffle(e.find('[data-shuffle="element"]')))})},837:function(e,t){app.component("Slick",{wasInitialized:function(){return this.url=this.$el.data("url"),this.$('[data-slick="true"]').andSelf().last().slick({infinite:!1,lazyLoad:"ondemand",prevArrow:this.$('[data-slick="previous"]'),nextArrow:this.$('[data-slick="next"]'),dots:this.$el.data("dots")||!1,slide:this.$el.data("slide")||"div",onBeforeChange:this.url?_.bind(this.loadSlide,this):$.noop})},loadSlide:function(e,t,n){var r;return r=$(e.$slides[n]),r.data("loaded")?void 0:(r.data("loaded",!0),r.addClass("m-loading"),$.get(this.url+n,function(e){return r.removeClass("m-loading"),r.html(e)}))},wasRemoved:function(){return this.$el.unslick()}})},838:function(e,t){app.component("SyncFormFields",{events:{keyup:"update"},elements:{sender:'[data-sync="sender"]',receiver:'[data-sync="receiver"]'},update:function(){return this.receiver.val(this.sender.val())}})},839:function(e,t){app.component("TelephoneInput",function(e){return e.is(":visible")?e.intlTelInput({defaultCountry:gon.user_country_code}):void 0})},840:function(e,t){app.component("TrackClick",function(e){return analytics.trackLink(e,"click",e.data("track-options"))})},841:function(e,t){app.component("UserMention",{wasInitialized:function(){return this.$el.atwho({at:"@",tpl:$("#jstemplate-user-mentions").html(),display_timeout:1e5,limit:20,callbacks:{matcher:this.matcher,remote_filter:this.remote_filter,sorter:this.sorter,tpl_eval:this.tpl_eval,highlighter:this.highlighter,before_reposition:this.before_reposition}})},wasRemoved:function(){return this.$el.atwho("destroy")},matcher:function(e,t,n){var r,i;return i=new RegExp(e+"([A-Za-z0-9_\\s+-]+)$|"+e+"([^\\x00-\\xff]+)$","gi"),r=i.exec(t),r?r[2]||r[1]:null},remote_filter:function(e,t){var n,r;return e=e.toLowerCase(),this.current_query!==e?(this.current_query=e,n=function(e){return function(n){return e.current_query=null,t(n)}}(this),this.query_cache||(this.query_cache={}),this.query_cache[e]?n(this.query_cache[e]):(r=_.find(this.query_cache,function(t){return function(n,r){return 0===e.indexOf(r)&&_.size(n)<t.get_opt("limit")}}(this)))?(r=_.filter(r,function(t){return~t.name.toLowerCase().indexOf(e)||~t.username.toLowerCase().indexOf(e)}),this.query_cache[e]=r,n(r)):(this.xhr&&this.xhr.abort(),this.xhr=$.getJSON("/users/search.json",{q:e},function(t){return function(r){return t.query_cache[e]=r.users,n(r.users)}}(this)))):void 0},sorter:function(e,t,n){var r,i,a,o;if(!e)return t;for(r=[],i=0,o=t.length;o>i;i++)a=t[i],a.atwho_order=a[n].toLowerCase().indexOf(e.toLowerCase()),r.push(a);return r.sort(function(e,t){return e.atwho_order-t.atwho_order})},tpl_eval:function(e,t){return this.tpl||(this.tpl=Hogan.compile(e)),this.tpl.render(t)},highlighter:function(e,t){var n;return t?(n=new RegExp(">([^<]*)("+t.replace("+","\\+")+")([^<]*)<","ig"),e.replace(n,function(e,t,n,r){return">"+t+'<span class="highlight">'+n+"</span>"+r+"<"})):e},before_reposition:function(e){var t,n,r,i,a;return t=10,a=this.rect(),i=this.$inputor.caret("position",this.pos-1),r=this.$inputor.caret("position").left-i.left,e.left=a.left+r-this.view.$el.width()/2,n=a.bottom+t+this.view.$el.height()-$(window).scrollTop(),n>$(window).height()&&(e.top=a.top-this.view.$el.height()-t,e.top>0)?(this.view.$el.removeClass("with-arrow--top"),void this.view.$el.addClass("with-arrow--bottom")):(e.top=a.bottom+t,this.view.$el.removeClass("with-arrow--bottom"),this.view.$el.addClass("with-arrow--top"))}})},842:function(e,t){window.app={run:function(e){return this.processComponents(e.parent()),this.actionsStart(e)},ensureSignIn:function(){var e;return gon.user_signed_in?!0:(e=this.template("prompt-sign-in").render({origin:location.pathname+location.search+location.hash}),window.openModal({layout:"fullscreen",content:e}),!1)},template:function(e){return Hogan.compile($("#jstemplate-"+e).html())}},_.extend(app,Backbone.Events)},843:function(e,t){app.action=function(e,t,n){if(this.actions||(this.actions={}),this.actions[e])throw new Error("Duplicated action name - "+e);return this.actions[e]=t},app.actionsStart=function(e){return e.on("click","[data-action]",function(e){var t,n,r,i,a;for(r=$(e.target).closest("[data-action]"),n=r.data("action").split(/,\W*/),i=0,a=n.length;a>i;i++)if(t=n[i],app.actions[t](e,r,app)===!1)return})}},844:function(e,t){app.ComponentView=Backbone.View.extend({name:"ComponentView",elements:{},wasInitialized:$.noop,wasRemoved:$.noop,initialize:function(e){return this.app=e.app,delete e.app,_.each(this.elements,function(e){return function(t,n){return e[n]=e.$(t)}}(this)),this.subviews=[],this.wasInitialized(e),this.render()},registerSubview:function(e){return this.subviews.push(e),this},removeSubviews:function(e){return _.invoke(this.subviews,"remove"),this.subviews=[],this},remove:function(){return app.removeComponents(this.$el),Backbone.View.prototype.remove.call(this),this.removeSubviews(),this.wasRemoved(),this},defer:function(e,t){var n;return 1===arguments.length&&(n=[e,0],t=n[0],e=n[1]),setTimeout(t,e)}}),app.ComponentView.initialize=function(e,t){return new this({el:e,app:t})},app.ComponentCallback={dummy:{remove:$.noop},wrap:function(e){return function(t,n){return e(t,n),n.ComponentCallback.dummy}}},app.disableComponents=function(e){return e=$(e),this.unmountReactComponents(e),e.find("[data-component]").attr("data-component",null)},app.processComponents=function(e){return e=$(e),e.find("[data-component]").each(function(e){return function(t,n){return n=$(n),n.data("component")?_.each(n.data("component").split(/,\W*/),function(t){var r,i;if(!(null!=(i=e.components)?i[t]:void 0))throw new Error("Missing component - "+t);return r=n.data("component-instances")||{},r[t]?void 0:(r[t]=e.components[t].initialize(n,app),n.data("component-instances",r))}):void 0}}(this)),this.mountReactComponents(e)},app.removeComponents=function(e){return e=$(e),this.unmountReactComponents(e),e.find("[data-component]").each(function(e,t){return t=$(t),_.each(t.data("component-instances"),function(e){return e.remove()}),t.data("component-instances",{})})},app.mountReactComponents=function(e){return e=$(e),this.unmountReactComponents(e),e.find("[data-react-class]").each(function(e,t){var n,r,i;return React.unmountComponentAtNode(t),n=$(t).data("react-class"),r=window[n]||eval.call(window,n),i=$(t).data("react-props"),React.render(React.createElement(r,i),t)})},app.unmountReactComponents=function(e){return e=$(e),e.find("[data-react-class]").each(function(e,t){return React.unmountComponentAtNode(t),$(t).html("")})},app.component=function(e,t){var n;if(null==this.components&&(this.components={}),this.components[e])throw new Error("Duplicated component name - "+e);return this.components[e]="function"==typeof t?{initialize:this.ComponentCallback.wrap(t)}:(t.name=e,n=this.ComponentView.extend(t),n.initialize=this.ComponentView.initialize,n)}},845:function(e,t){app.popover={},app.popover.Position=function(){function e(e){this.popover=e,this.container=e.container}return e.prototype.positioning=function(){return this.target.data("popover-position")||this.automaticPositioning()},e.prototype.automaticPositioning=function(){var e,t;return t=this.verticalPositioning(),e=this.horizontalPositioning(),null!=t&&null!=e?t+"-"+e:"center-center"},e.prototype.verticalPositioning=function(){return this.canPositionBelowTarget()?"bottom":this.canPositionAboveTarget()?"top":null},e.prototype.horizontalPositioning=function(){return this.canPositionCenteredToTarget()?"center":this.canPositionLeftToTarget()?"left":this.canPositionRightToTarget()?"right":null},e.prototype.position=function(){var e,t;return this.target=this.popover.currentTarget,t=this.positioning(),e=function(){switch(t){case"top-left":return _.extend(this.aboveTargetCss(),this.leftToTargetCss());case"top-center":return _.extend(this.aboveTargetCss(),this.centeredToTargetCss());case"top-right":return _.extend(this.aboveTargetCss(),this.rightToTargetCss());case"center-center":return this.centeredCss();case"bottom-left":return _.extend(this.belowTargetCss(),this.leftToTargetCss());case"bottom-center":return _.extend(this.belowTargetCss(),this.centeredToTargetCss());case"bottom-right":return _.extend(this.belowTargetCss(),this.rightToTargetCss());default:return!1}}.call(this),e?(this.container.css(e),this.setContainerClass(t)):void 0},e.prototype.setContainerClass=function(e){return this.container.prop("className",this.popover.containerClass+" v-"+e)},e.prototype.aboveTargetCss=function(){return{bottom:this.bodyHeight()-this.targetTop()+10,top:""}},e.prototype.belowTargetCss=function(){return{bottom:"",top:this.targetTop()+this.targetHeight()+10}},e.prototype.centeredCss=function(){return{bottom:"",left:this.viewportWidth()/2-this.containerWidth()/2,top:this.viewportTop()+20}},e.prototype.leftToTargetCss=function(){return{left:this.targetLeft()+this.targetWidth()/2-this.containerWidth()+30}},e.prototype.centeredToTargetCss=function(){return{left:this.targetLeft()+this.targetWidth()/2-this.containerWidth()/2}},e.prototype.rightToTargetCss=function(){return{left:this.targetLeft()+this.targetWidth()/2-30}},e.prototype.canPositionAboveTarget=function(){return this.targetTop()-this.containerHeight()>this.viewportTop()+10},e.prototype.canPositionBelowTarget=function(){return this.targetTop()+this.containerHeight()<this.viewportTop()+this.viewportHeight()+10},e.prototype.canPositionLeftToTarget=function(){return this.targetLeft()-this.containerWidth()>10},e.prototype.canPositionRightToTarget=function(){return this.targetLeft()+this.containerWidth()<this.viewportWidth()-10},e.prototype.canPositionCenteredToTarget=function(){return this.targetLeft()+this.targetWidth()/2-this.containerWidth()/2>10&&this.targetLeft()+this.targetWidth()/2+this.containerWidth()/2<this.viewportWidth()-10},e.prototype.containerHeight=function(){return this.container.height()},e.prototype.containerWidth=function(){return this.container.width()},e.prototype.targetTop=function(){return this.target.offset().top},e.prototype.targetLeft=function(){return this.target.offset().left},e.prototype.targetHeight=function(){return this.target.outerHeight()},e.prototype.targetWidth=function(){return this.target.outerWidth()},e.prototype.viewportTop=function(){return $(window).scrollTop()},e.prototype.viewportHeight=function(){return $(window).height()},e.prototype.viewportWidth=function(){return $(window).width()},e.prototype.bodyHeight=function(){return $("body").outerHeight()},e}(),app.positionPopover=function(e){return this.position||(this.position=new app.popover.Position(e)),this.repositionPopover()},app.repositionPopover=function(){return this.position.position()}},846:function(e,t){app.helpers={pluralize:function(e,t,n){return e+" "+(1===e?t:n)}}},847:function(e,t){$.fn.emptyWithComponents=function(){return app.removeComponents(this),this.empty(),this},$.fn.removeWithComponents=function(){return app.removeComponents(this),this.remove(),this},$.fn.htmlWithComponents=function(e){return app.removeComponents(this),React.isValidElement(e)?React.render(e,this[0]):this.html(e),app.processComponents(this),this},$.fn.appendWithComponents=function(e){return this.append(e),app.processComponents(this),this},$.fn.prependWithComponents=function(e){return this.prepend(e),app.processComponents(this),this},$.fn.replaceWithComponents=function(e){var t;return app.removeComponents(this),t=this.parent(),this.replaceWith(e),app.processComponents(t),this}},848:function(e,t){$.event.special["keyup:esc"]={delegateType:"keyup",bindType:"keyup",handle:function(e){return 27===e.keyCode?(e.type=e.handleObj.type,e.handleObj.handler.apply(this,arguments)):void 0}}},849:function(e,t){!function(){var e,t,n;return t=[],e=$(window),n=function(){var n,r,i,a;if(e.scrollTop()+e.height()===$(document).height()){for(a=[],r=0,i=t.length;i>r;r++)n=t[r],a.push($(n).trigger("scroll:bottom"));return a}},$.event.special["scroll:bottom"]={setup:function(){return 0===t.length&&e.on("scroll",n),-1===t.indexOf(this)?t.push(this):void 0},teardown:function(){var r;return r=t.indexOf(this),-1!==r&&t.splice(r,1),0===t.length?e.off("scroll",n):void 0}}}()}});